<!DOCTYPE div PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>WebDesktop ${hostName}: Task Manager</title>
		<link rel="stylesheet" href="/resources/css/bootstrap/bootstrap.min.css" />
	    <link rel="stylesheet" href="/resources/css/bootstrap/bootstrap-theme.min.css" />
	    <link rel="stylesheet" href="/resources/css/lightness/jquery.ui.custom.min.css" />
	    <script src="/resources/js/libs/jquery.min.js"></script>
	    <script src="/resources/js/libs/jquery.ui.min.js"></script>
	    <script src="/resources/js/libs/bootstrap.min.js"></script>
	    <script type="text/javascript">
	    	function killprocess(pod){
	    		window.location='taskmanager.html?killprocess='+pod;
	    	}
	    
	    </script>
	</head>
	<body>
		<div class="container-fluid">
			<table>
				<thead>
					<tr>
						#foreach( $key in $keys)
						<th>
							${key}
						</th>
						#end
						<th>Comandi</th>
					</tr>
				</thead>
				<tbody>
				#foreach( $task in $tasks)
  				<tr>
					#foreach( $value in $task.value())
					<td>
						${value}
					</td>
					#end
					<td>
						<button id="deletefile" type="button" class="btn btn-danger btn-sm" onclick="killprocess('${task.getPID()}');"><i class="glyphicon glyphicon-remove"></i>Kill Process ${task.getPID()}</button>
					</td>
				</tr>
				#end
				</tbody>
			</table>
		</div>
	</body>
</html>